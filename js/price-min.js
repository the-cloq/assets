(()=>{const t=document.getElementById("dial"),e=document.getElementById("display-priceperkwh"),n=document.getElementById("priceperkwh"),s=document.getElementById("submitBtn"),o=30,a=.01,r=Math.round(1/a)+1,i=3*r,l=n.value;const d=i*o;function c(t,e){return(t%e+e)%e}function u(i){let u=c(-i-r*o,d)+160;u=c(u,d);let p=Math.round(u/o);p%=r,p<0&&(p+=r);const y=p*a;e.textContent=y.toFixed(2)+"p",n.value=y.toFixed(2);const f=-(p*o-160)-r*o;return t.style.transform=`translateX(${f}px)`,m=f,s&&(n.value!==l?(s.style.display="block",requestAnimationFrame((()=>{s.style.opacity="1",s.style.transform="scale(1.2)"}))):(s.style.opacity="0",s.style.transform="scale(1)")),p}t.style.width=d+"px";let m=0,p=!1,y=0,f=0;function h(e){p=!0,y=e.type.startsWith("touch")?e.touches[0].clientX:e.clientX,f=m,t.style.transition="none",e.preventDefault()}function v(e){if(!p)return;const n=e.type.startsWith("touch")?e.touches[0].clientX:e.clientX;m=f+(n-y),t.style.transform=`translateX(${m}px)`,u(m)}function w(){if(!p)return;p=!1;let e=u(m)*o-160;e+=r*o,m=-e,t.style.transition="transform 0.3s ease-out",t.style.transform=`translateX(${m}px)`}!function(){for(let e=0;e<3;e++)for(let e=0;e<r;e++){const n=document.createElement("div");n.className="tick";const s=e*a;e%5==0?n.textContent=s.toFixed(2):n.classList.add("hide-label"),t.appendChild(n)}}(),function(){const e=parseFloat(n.value)||0,s=Math.round(e/a);m=-(s*o-160)-r*o,t.style.transform=`translateX(${m}px)`,u(m)}(),t.addEventListener("mousedown",h),t.addEventListener("touchstart",h,{passive:!1}),window.addEventListener("mousemove",v),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("mouseup",w),window.addEventListener("touchend",w),u(m)})();
