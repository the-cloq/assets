const btn=document.getElementById("submitBtn");let timeoutId,isExpanded=!1,isScrollLocked=!1;const scrollUpTimeout=800,panels=document.querySelectorAll(".tab_panel"),lastScrollTops=Array.from({length:panels.length},(()=>0));function expandLozenge(e){clearTimeout(timeoutId),btn.classList.add("expanded"),isExpanded=!0,timeoutId=setTimeout((()=>collapseLozenge()),e)}function collapseLozenge(){clearTimeout(timeoutId),btn.classList.remove("expanded"),isExpanded=!1}panels.forEach(((e,l)=>{e.addEventListener("scroll",(()=>{if("false"===e.getAttribute("aria-hidden")){const o=e.scrollTop;o>lastScrollTops[l]?(isExpanded&&collapseLozenge(),isScrollLocked=!0):o<lastScrollTops[l]&&(isScrollLocked&&!isExpanded&&expandLozenge(800),isScrollLocked=!1),lastScrollTops[l]=o}}))})),btn.addEventListener("click",(()=>{expandLozenge(3e3)}));
