const btn=document.getElementById("submitBtn");let timeoutId,lastScroll=window.pageYOffset,isExpanded=!1,isScrollLocked=!1,scrollUpTimeout=3e3;function expandLozenge(e){clearTimeout(timeoutId),btn.classList.add("expanded"),isExpanded=!0,timeoutId=setTimeout((()=>{collapseLozenge()}),e)}function collapseLozenge(){clearTimeout(timeoutId),btn.classList.remove("expanded"),isExpanded=!1}btn.addEventListener("click",(()=>{expandLozenge(3e3)})),window.addEventListener("scroll",(()=>{const e=window.pageYOffset,l=e>lastScroll;lastScroll=e,l?(isExpanded&&collapseLozenge(),isScrollLocked=!0):(isScrollLocked&&!isExpanded&&expandLozenge(scrollUpTimeout),isScrollLocked=!1)})),panel.addEventListener("scroll",(function(){const e=panel.scrollTop,l=panel.scrollHeight-panel.scrollTop-panel.clientHeight;e<lastScrollTop&&l>50?(isScrollLocked&&!isExpanded&&expandLozenge(scrollUpTimeout),isScrollLocked=!1):e>lastScrollTop&&(isExpanded&&collapseLozenge(),isScrollLocked=!0),lastScrollTop=e}));
